(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();class m{constructor({shapeElemId:t="shape",generatorElemId:i="code",generatorElemTailwindId:n="tw-code",copyCodeId:e="copy",copyCodeIdTw:s="tw-copy",copiedCodeId:o="clipboard_copied",boxContainerId:d="box",widthInputId:a="width",heightInputId:l="height",enableAdvancedId:r="enable-advanced",initState:c=null,moveableElems:u}={}){this.generatorElem=document.getElementById(i),this.generatorElemTailwind=document.getElementById(n),this.shapeElem=document.getElementById(t),this.copiedCode=document.getElementById(o),this.boxContainer=document.getElementById(d),this.widthInput=document.getElementById(a),this.heightInput=document.getElementById(l),this.widthInput.onchange=()=>{this.updateState(this.widthInput.value,"width")},this.heightInput.onchange=()=>{this.updateState(this.heightInput.value,"height")},this.enableAdvanced=document.getElementById(r),this.enableAdvanced.onclick=this.enableAdvancedOnClick.bind(this),this.initState(c),this.initAdvanced(),this.handles=this.initHandles(u),document.getElementById(e).onclick=this.setClipboard.bind(this),document.getElementById(s).onclick=this.setClipboardTailwind.bind(this)}initHandles(t){throw new Error("You have to implement the method initHandles!")}updateBorderRadius(){throw new Error("You have to implement the method updateBorderRadius!")}initState(t){throw new Error("You have to implement the method initState!")}initAdvanced(){this.state.width!==""&&this.state.height!==""&&(this.enableAdvanced.checked=!0,document.getElementById("dimension-input").classList.add("visible"))}enableAdvancedOnClick(t){this.enableAdvanced.checked?(document.getElementById("dimension-input").classList.add("visible"),this.state.width=this.boxContainer.offsetWidth,this.state.height=this.boxContainer.offsetHeight,this.updateUI()):(document.getElementById("dimension-input").classList.remove("visible"),this.updateState("","width"),this.updateState("","height"),this.boxContainer.style.height="",this.boxContainer.style.width="")}setClipboard(){navigator.clipboard.writeText(this.generatorElem.innerHTML).then(()=>{this.copiedCode.innerHTML='<div class="alert">Copied to clipboard 👍</div>'},()=>{this.copiedCode.innerHTML='<div class="alert">💔 Not Supported</div>'}),setTimeout(()=>{this.copiedCode.innerHTML=""},2e3)}setClipboardTailwind(){navigator.clipboard.writeText(this.generatorElemTailwind.innerHTML).then(()=>{this.copiedCode.innerHTML='<div class="alert">Copied to clipboard 👍</div>'},()=>{this.copiedCode.innerHTML='<div class="alert">💔 Not Supported</div>'}),setTimeout(()=>{this.copiedCode.innerHTML=""},2e3)}setUrlHash(t){window.history&&"pushState"in window.history?history.pushState(null,null,"#"+t):window.location.hash=t}updateState(t,i){this.state[i]=t,this.updateUI()}updateUI(){this.updateBorderRadius(),this.updateBox()}updateBox(){if(!this.enableAdvanced.checked)return;let t=this.state.height==""?"":this.state.height+"px",i=this.state.width==""?"":this.state.width+"px";this.boxContainer.style.height=t,this.boxContainer.style.width=i,this.heightInput.value=this.state.height,this.widthInput.value=this.state.width}saveUrlParams(){throw new Error("You have to implement the method saveUrlParams!")}static loadUrlParams(t){const i=/#(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100)-(?:(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100))?-(\d*).(\d*)/gm;let n=["left","top","right","bottom","leftBottom","topRight","rightBottom","bottomRight","height","width"],e={},s;if(!i.test(t))return null;for(i.lastIndex=0;(s=i.exec(t))!==null;)s.forEach((o,d)=>{d!=0&&(e[n[d-1]]=o)});return e}}class p{constructor(t,i,n="x",e=30,s=()=>{}){this.axis=n,this.pos=e,this.elem=t,this.onChange=i,this.onDragEnd=s,this.elem.onmousedown=this.dragMouseDown.bind(this),this.elem.ontouchstart=this.dragMouseDown.bind(this),this.setInitPos(e),this.onChange(this.pos,this.elem.id)}dragMouseDown(t){t=t||window.event,t.preventDefault(),this.currentSpan=t.target,this.currentSpan.classList.add("active"),document.onmouseup=this.closeDragElement.bind(this),document.ontouchend=this.closeDragElement.bind(this),document.onmousemove=this.elementDrag.bind(this),document.ontouchmove=this.elementDrag.bind(this)}elementDrag(t){if(t=t||window.event,typeof TouchEvent<"u"&&t instanceof TouchEvent){var i=t.changedTouches[0];this.setPos(i.clientX,i.clientY)}else this.setPos(t.clientX,t.clientY)}setInitPos(t){this.axis=="x"?this.elem.style.left=t+"%":this.elem.style.top=t+"%"}setPos(t,i){let n=this.elem.parentNode.getBoundingClientRect();this.axis=="x"?(this.pos=this.valBetween(((t-5-n.left).toFixed(0)*100/n.width).toFixed(0),0,100),this.elem.style.left=this.pos+"%"):(this.pos=this.valBetween(((i-5-n.top).toFixed(0)*100/n.height).toFixed(0),0,100),this.elem.style.top=this.pos+"%"),this.onChange(this.pos,this.elem.id)}closeDragElement(){this.currentSpan.classList.remove("active"),this.onDragEnd(),document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}valBetween(t,i,n){return Math.min(n,Math.max(i,t))}}export{m as A,p as M};
